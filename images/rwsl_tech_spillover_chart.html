<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RWSL 기술의 타 산업 파급효과</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            width: 900px;
            height: 560px;
            font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            background: white;
            box-sizing: border-box;
        }
        .chart-container {
            height: 480px;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 860px;
            margin: 0 auto;
        }
        .chart-title {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .chart-subtitle {
            text-align: center;
            font-size: 11px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        .spillover-network {
                height: 250px;
                overflow: hidden;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 15px;
            height: 300px;
            margin-top: 30px;
        }
        .tech-node {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            color: white;
            font-weight: bold;
            text-align: center;
            font-size: 11px;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .tech-node:hover {
            transform: scale(1.1);
        }
        .rwsl-core {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            grid-column: 2;
            grid-row: 2;
            font-size: 11px;
            font-weight: bold;
        }
        .aviation-tech {
            background: linear-gradient(135deg, #3498db, #2980b9);
            grid-column: 1;
            grid-row: 1;
        }
        .iot-sensors {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            grid-column: 2;
            grid-row: 1;
        }
        .ai-analytics {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            grid-column: 3;
            grid-row: 1;
        }
        .smart-city {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            grid-column: 1;
            grid-row: 2;
        }
        .autonomous-vehicle {
            background: linear-gradient(135deg, #1abc9c, #16a085);
            grid-column: 3;
            grid-row: 2;
        }
        .manufacturing {
            background: linear-gradient(135deg, #34495e, #2c3e50);
            grid-column: 1;
            grid-row: 3;
        }
        .logistics {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            grid-column: 2;
            grid-row: 3;
        }
        .defense {
            background: linear-gradient(135deg, #8e44ad, #7d3c98);
            grid-column: 3;
            grid-row: 3;
        }
    </style>

    <!-- html2canvas 라이브러리 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <!-- 자동 이미지 추출 스크립트 -->
    <script>
        window.addEventListener('load', function() {
            // 페이지 로드 후 1초 대기 (차트 렌더링 완료 대기)
            setTimeout(function() {
                // 전체 body를 캡처
                html2canvas(document.body, {
                    useCORS: true,
                    allowTaint: true,
                    scale: 1,
                    backgroundColor: '#ffffff',
                    width: 900,
                    height: 560
                }).then(function(canvas) {
                    // 이미지로 변환
                    const imgData = canvas.toDataURL('image/png');
                    
                    // 다운로드 링크 생성
                    const fileName = window.location.pathname.split('/').pop().replace('.html', '.png');
                    const downloadLink = document.createElement('a');
                    downloadLink.href = imgData;
                    downloadLink.download = fileName;
                    downloadLink.textContent = '이미지 다운로드';
                    downloadLink.style.cssText = 'position: fixed; top: 10px; right: 10px; z-index: 9999; background: #007bff; color: white; padding: 10px; border-radius: 5px; text-decoration: none; font-family: Arial;';
                    
                    document.body.appendChild(downloadLink);
                    
                    // 자동으로 다운로드 시작 (옵션)
                    // downloadLink.click();
                    
                    console.log('이미지 추출 완료. 다운로드 버튼이 우상단에 생성되었습니다.');
                }).catch(function(error) {
                    console.error('이미지 추출 실패:', error);
                });
            }, 1000);
        });
    </script>

</head>
<body>
    <div class="chart-container">
        <div class="chart-title">RWSL 기술의 타 산업 파급효과</div>
        <div class="chart-subtitle">(핵심 기술별 응용 분야 및 파급 효과)</div>
        <canvas id="spilloverChart" width="900" height="400"></canvas>
        
        <div class="spillover-network">
            <div class="tech-node aviation-tech">
                항공전자<br>
                <small>차세대 관제</small>
            </div>
            <div class="tech-node iot-sensors">
                IoT 센서<br>
                <small>스마트 감지</small>
            </div>
            <div class="tech-node ai-analytics">
                AI 분석<br>
                <small>예측 시스템</small>
            </div>
            
            <div class="tech-node smart-city">
                스마트시티<br>
                <small>지능형 교통</small>
            </div>
            <div class="tech-node rwsl-core">
                RWSL<br>
                핵심기술<br>
                <small>통합 플랫폼</small>
            </div>
            <div class="tech-node autonomous-vehicle">
                자율주행<br>
                <small>충돌 방지</small>
            </div>
            
            <div class="tech-node manufacturing">
                제조업<br>
                <small>스마트팩토리</small>
            </div>
            <div class="tech-node logistics">
                물류업<br>
                <small>자동화 시스템</small>
            </div>
            <div class="tech-node defense">
                국방<br>
                <small>무인 시스템</small>
            </div>
        </div>
    </div>

    <script>
        const ctx = document.getElementById('spilloverChart').getContext('2d');
        const spilloverChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: [
                    '항공전자',
                    'IoT/센서', 
                    'AI/빅데이터',
                    '자율주행',
                    '스마트시티',
                    '제조업',
                    '물류업',
                    '국방산업'
                ],
                datasets: [
                    {
                        label: '기술 파급 효과 (%)',
                        data: [95, 85, 80, 70, 75, 65, 60, 55],
                        backgroundColor: 'rgba(231, 76, 60, 0.2)',
                        borderColor: '#e74c3c',
                        borderWidth: 3,
                        pointBackgroundColor: '#e74c3c',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#e74c3c',
                        pointRadius: 6,
                        pointHoverRadius: 8
                    },
                    {
                        label: '현재 적용 수준 (%)',
                        data: [20, 30, 25, 15, 20, 10, 12, 8],
                        backgroundColor: 'rgba(52, 152, 219, 0.2)',
                        borderColor: '#3498db',
                        borderWidth: 3,
                        pointBackgroundColor: '#3498db',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#3498db',
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }
                ]
            },
            options: {
            animation: false,
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            font: {
                                size: 11,
                                family: 'Malgun Gothic'
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const industries = [
                                    '차세대 관제시스템, 항공교통관리',
                                    '스마트 센서망, 실시간 모니터링',
                                    '예측분석, 자동화 의사결정',
                                    '충돌방지 시스템, 안전 기술',
                                    '지능형 교통신호, 도시 관리',
                                    '스마트팩토리, 자동화 라인',
                                    '물류 자동화, 창고 관리',
                                    '무인 시스템, 감시 기술'
                                ];
                                return [
                                    `${context.dataset.label}: ${context.parsed.r}%`,
                                    `응용분야: ${industries[context.dataIndex]}`
                                ];
                            }
                        }
                    }
                },
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100,
                        ticks: {
                            stepSize: 20,
                            font: {
                                size: 10,
                                family: 'Malgun Gothic'
                            }
                        },
                        pointLabels: {
                            font: {
                                size: 11,
                                family: 'Malgun Gothic'
                            }
                        },
                        grid: {
                            color: 'rgba(0,0,0,0.1)'
                        },
                        angleLines: {
                            color: 'rgba(0,0,0,0.1)'
                        }
                    }
                },
                elements: {
                    line: {
                        tension: 0.1
                    }
                }
            }
        });

        // Add animation to network nodes
        document.addEventListener('DOMContentLoaded', function() {
            const nodes = document.querySelectorAll('.tech-node');
            nodes.forEach((node, index) => {
                node.style.opacity = '0';
                node.style.transform = 'scale(0)';
                node.style.transition = 'all 0.6s ease-in-out';
                
                setTimeout(() => {
                    node.style.opacity = '1';
                    node.style.transform = 'scale(1)';
                }, index * 150);
            });
        });
    </script>
</body>
</html>